### 知识总览

* 进程
  * 定义
    * 在计算机发展史上，"进程"是为了解决什么问题而被引入的？
  * 组成
    * 每个进程由哪些部分组成？
  * 组织方式
    * 系统中各个进程之间是如何被组织起来的？
  * 特征
    * 相比于程序，进程有哪些特征？

---

### 进程的定义

* 单道程序技术
  * 程序:就是一个指令序列
  * 内存
    * 程序段
      * 程序代码
    * 数据段
      * 程序的代码放在程序段内，程序运行过程处理的数据放在数据段内\(如变量\)
* 多道程序技术
  * 内存:可以存放多个程序段和数据段
  * 为了方便操作系统管理，完成各程序并发执行，引入了进程、进程实体的概念
  * 系统为每个运行的程序配置一个数据结构，称为进程控制块\(PCB\)，用来描述进程的各种信息\(如程序代码存放位置\)
  * PCB、程序段、数据段三部分构成了进程实体\(进程映象\)
    * 一般情况下，把进程实体简称为进程
    * 例如。所谓创建进程，实质上就是创建进程实体中的PCB；而撤销进程，实质上是撤销进程实体中的PCB
    * PCB是进程存在的唯一标志
    * 进程定义:进程是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位
      * 严格来说，进程实体和进程是不一样的，进程实体是静态的，进程则是动态的

```
从不同的角度，进程可以有不同的定义，比较传统典型的定义有:
1.进程是程序的一次执行过程
2.进程是一个程序及其数据在处理机上顺序执行时所发生的活动
3.进程是具有独立功能的程序在数据集合上运行的过程，它是系统进行资源分配和调度的一个独立单位

* 强调动态性
```

* 进程的组成
  * 进程\(进程实体\)由程序段、数据段、PCB三部分组成
    * 程序段:程序代码
    * 数据段:程序运行时使用，产生的运算数据
    * PCB:操作系统通过PCB来管理进程，因此PCB中应该包含操作系统对其进行管理所需1的各种信息
  * PCB
    * 进程描述信息
      * 进程标识符PID
        * 当进程被创建时，操作系统会为该进程分配一个唯一的、不重复的ID，用于区分不同的进程\(类似于身份证号\)
      * 用户标识符UID
    * 进程控制和管理信息
      * 进程当前状态
      * 进程优先级
    * 资源分配清单
      * 程序段指针
      * 数据段指针
      * 键盘
      * 鼠标
    * 处理机相关信息
      * 各种寄存器值
        * 当进程切换时需要把进程当前的运行情况记录下来保存在PCB中，如程序计数器的值表示了当前程序执行到哪一句

---

* 进程的组成

  * PDB:进程的管理者\(操作系统所需的数据都在PCB中\)
    * 进程描述信息
    * 进程控制和管理信息
    * 资源分配清单
    * 处理机相关信息
  * 程序段

    * 存放要执行的代码

    ```
    程序段-数据段 --> 程序本身的运行所需的数据
    ```

  * 数据段

    * 存放程序运行过程中处理的各种数据

---

* 进程的组织
  * 链接方式
    * 按照进程状态将PCB分为多个队列
    * 操作系统持有指向各个队列的指针
  * 索引方式
    * 根据进程状态的不同，建立几张索引表
    * 操作系统持有指向各个索引表的指针

### 链接方式

* 执行指针
* 就绪队列指针
* 阻塞队列指针

### 索引方式

* 执行指针
* 就绪表指针
* 阻塞表指针

---

* 进程的特征:动态性进程的最基本的特征
  * 动态性
    * 进程是程序的一次执行过程，是动态地产生、变化和消亡的
  * 并发性
    * 内存中有多个进程实体，各进程可并发执行
  * 独立性
    * 进程是能独立运行、独立获得资源、独立接收调度的基本单位
  * 异步性
    * 各进程按各自独立的、不可预知的速度向前推进，操作系统要提供"进程同步机制"来解决异步问题
      * 异步性会导致并发程序执行结构的不确定性
  * 结构性
    * 每个进程都会配置一个PCB。结构上看，进程由程序段、数据段、PCB组成

---

### 知识点总结

* 进程

  * 定义
    * 进程是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位
  * 组成

    * PCB:PCB是进程存在的唯一标志
      * 进程描述信息
      * 进程控制和管理信息:进程的管理者\(操作系统\)所需的数据都在PCB中
      * 资源分配清单
      * 处理机相关信息
    * 程序段:程序本身的运行所需的数据在程序段、数据段中

      * 存储要执行的程序代码

    * 数据段

      * 存放程序运行过程中处理的各种数据

  * 组织形式

    * 链接方式
      * 按进程状态将PCB分为多个队列
    * 索引方式
      * 按照进程状态建立几张索引表，各表项指向一个PCB

  * 特征

    * 动态性
      * 进程的最基本特征
    * 并发性
    * 独立性
      * 进程是系统进行资源分配、调度的独立单位
    * 异步性
      * 各进程以不可预知的速度向前推进，可能导致运行结构不确定性
    * 结构性

---

### 进程的状态和转换

* 状态
  * 运行状态
  * 就绪状态
  * 阻塞状态
  * 创建状态
  * 终止状态
* 进程状态间的转换
  * 就绪态 -&gt; 运行态
  * 运行态 -&gt; 阻塞态
  * 运行态 -&gt; 阻塞态
  * 阻塞态 -&gt; 就绪态

#### 三种基本状态

```
进程是程序的一次执行
```

* 运行态:占有CPU，并在CPU上运行

* 就绪态:已经具备运行条件，但由于没有空闲CPU，而暂时不能运行

* 阻塞态\(等待态\):因等待某一事件而暂时不能运行

#### 另外两种状态

* 创建态\(新建态\):进程正在被创建，操作系统为进程分配资源、初始化PCB
* 终止态\(结束态\):进程正在从系统中撤销，操作系统会回收进程拥有的资源、撤销PCB

#### 进程状态的转换

![](/assets/13.3.5-4.png)

#### 知识点总结

* 进程的状态与转换

  * 状态

    * 运行状态:需要CPU和其他所需资源
    * 就绪状态:不需要CPU和其他所需资源

    * 阻塞状态:不需要CPU和其他所需资源

    * 创建状态:操作系统为新进程分配资源、创建PCB

    * 终止状态:操作系统回收进程的资源、撤销PCB

  * 进程状态间的转换
    * 就绪态-&gt;运行态
    * 运行态-&gt;就绪态
    * 运行态-&gt;阻塞态
    * 阻塞态-&gt;就绪态
    * 创建态-&gt;就绪态
    * 运行态-&gt;终止态



